<html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title id="title">
          grpcService/client/actors/utils/Utils.scala.html
        </title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.20.1/css/theme.default.min.css" type="text/css"/><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.20.1/js/jquery.tablesorter.min.js"></script><link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" type="text/css"/><script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script><script type="text/javascript">
        $(document).ready(function() {$(".tablesorter").tablesorter();});
      </script>
        <style>
          table.codegrid { font-family: monospace; font-size: 12px; width: auto!important; }table.statementlist { width: auto!important; font-size: 13px; } table.codegrid td { padding: 0!important; border: 0!important } table td.linenumber { width: 40px!important; } 
        </style>
      </head>
      <body style="font-family: monospace;">
        <ul class="nav nav-tabs">
          <li>
            <a href="#codegrid" data-toggle="tab">Codegrid</a>
          </li>
          <li>
            <a href="#statementlist" data-toggle="tab">Statement List</a>
          </li>
        </ul>
        <div class="tab-content">
          <div class="tab-pane active" id="codegrid">
            <pre style='font-size: 12pt; font-family: courier, monospace;'>1 <span style=''>package grpcService.client.actors.utils
</span>2 <span style=''>
</span>3 <span style=''>import akka.actor.typed.receptionist.Receptionist
</span>4 <span style=''>import akka.actor.typed.scaladsl.{AbstractBehavior, ActorContext, Behaviors}
</span>5 <span style=''>import akka.actor.typed.{ActorRef, ActorSystem, Behavior, Terminated}
</span>6 <span style=''>import akka.cluster.Cluster
</span>7 <span style=''>import com.typesafe.config.ConfigFactory
</span>8 <span style=''>import grpcService.client.actors.behaviors.{ForemanBehavior, ForemanBehaviorImpl, PlayerBehavior}
</span>9 <span style=''>
</span>10 <span style=''>import java.io.{BufferedReader, InputStreamReader}
</span>11 <span style=''>
</span>12 <span style=''>object Utils:
</span>13 <span style=''>
</span>14 <span style=''>  // creation of a new actor system specifying the role, the port and the ip address of the user guardian actor of the AS, plus the cluster name to join (THIS USES THE TEST CONFIG FILE)
</span>15 <span style=''>  </span><span style='background: #F0ADAD'>def startupWithRoleForTest</span><span style=''>[X](role: String, port: String, ip: String, clusterName: String = &quot;ClusterSystem&quot;)(root: =&gt; Behavior[X]): ActorSystem[X] =
</span>16 <span style=''>    val config = </span><span style='background: #F0ADAD'>ConfigFactory
</span>17 <span style=''></span><span style='background: #F0ADAD'>      .parseString(
</span>18 <span style=''></span><span style='background: #F0ADAD'>        s&quot;&quot;&quot;
</span>19 <span style=''></span><span style='background: #F0ADAD'>        akka.remote.artery.canonical.hostname=$ip
</span>20 <span style=''></span><span style='background: #F0ADAD'>        akka.remote.artery.canonical.port=$port
</span>21 <span style=''></span><span style='background: #F0ADAD'>        akka.cluster.roles = [$role]
</span>22 <span style=''></span><span style='background: #F0ADAD'>        akka.cluster.seed-nodes = [
</span>23 <span style=''></span><span style='background: #F0ADAD'>        ]
</span>24 <span style=''></span><span style='background: #F0ADAD'>        &quot;&quot;&quot;)
</span>25 <span style=''></span><span style='background: #F0ADAD'>      .withFallback(ConfigFactory.load(&quot;application-test&quot;))</span><span style=''>
</span>26 <span style=''>      // Create an Akka system
</span>27 <span style=''>    </span><span style='background: #F0ADAD'>ActorSystem(root, clusterName, config)</span><span style=''>
</span>28 <span style=''>
</span>29 <span style=''>  // creation of a new actor system specifying the role, the port and the ip address of the user guardian actor of the AS, plus the cluster name to join (THIS USES THE BASE CONFIG FILE)
</span>30 <span style=''>  </span><span style='background: #AEF1AE'>def startupWithRole</span><span style=''>[X](role: String, port: String, ip: String, clusterName: String = &quot;ClusterSystem&quot;)(root: =&gt; Behavior[X]): ActorSystem[X] =
</span>31 <span style=''>    val config = </span><span style='background: #AEF1AE'>ConfigFactory
</span>32 <span style=''></span><span style='background: #AEF1AE'>      .parseString(
</span>33 <span style=''></span><span style='background: #AEF1AE'>        s&quot;&quot;&quot;
</span>34 <span style=''></span><span style='background: #AEF1AE'>        akka.remote.artery.canonical.hostname=$ip
</span>35 <span style=''></span><span style='background: #AEF1AE'>        akka.remote.artery.canonical.port=$port
</span>36 <span style=''></span><span style='background: #AEF1AE'>        akka.cluster.roles = [$role]
</span>37 <span style=''></span><span style='background: #AEF1AE'>        akka.cluster.seed-nodes = [
</span>38 <span style=''></span><span style='background: #AEF1AE'>          &quot;akka://$clusterName@127.0.0.1:2551&quot;,
</span>39 <span style=''></span><span style='background: #AEF1AE'>          &quot;akka://$clusterName@127.0.0.1:2552&quot;
</span>40 <span style=''></span><span style='background: #AEF1AE'>        ]
</span>41 <span style=''></span><span style='background: #AEF1AE'>        &quot;&quot;&quot;)
</span>42 <span style=''></span><span style='background: #AEF1AE'>      .withFallback(ConfigFactory.load(&quot;base-cluster&quot;))</span><span style=''>
</span>43 <span style=''>
</span>44 <span style=''>    // Create an Akka system
</span>45 <span style=''>    </span><span style='background: #AEF1AE'>ActorSystem(root, clusterName, config)</span><span style=''>
</span>46 <span style=''>
</span>47 <span style=''>  </span><span style='background: #F0ADAD'>@main def main</span><span style=''>() =
</span>48 <span style=''>
</span>49 <span style=''>    val reader: BufferedReader = </span><span style='background: #F0ADAD'>new BufferedReader(new InputStreamReader(System.in))</span><span style=''>;
</span>50 <span style=''>    </span><span style='background: #F0ADAD'>System.out.print(&quot;Inserisci l'ip&quot;)</span><span style=''>
</span>51 <span style=''>    val ipAddress: String = </span><span style='background: #F0ADAD'>reader.readLine()</span><span style=''>;
</span>52 <span style=''>
</span>53 <span style=''>    val port: String = </span><span style='background: #F0ADAD'>reader.readLine()</span><span style=''>;
</span>54 <span style=''>
</span>55 <span style=''>    </span><span style='background: #F0ADAD'>System.out.print(ipAddress + &quot;:&quot; + port)</span><span style=''>
</span>56 <span style=''>    val sender = </span><span style='background: #F0ADAD'>startupWithRole(&quot;sender&quot;, port, ipAddress)(ForemanBehavior())</span><span style=''>;
</span></pre>
          </div>
          <div class="tab-pane" id="statementlist">
            <table cellspacing="0" cellpadding="0" class="table statementlist">
      <tr>
        <th>Line</th>
        <th>Stmt Id</th>
        <th>Pos</th>
        <th>Tree</th>
        <th>Symbol</th>
        <th>Tests</th>
        <th>Code</th>
      </tr><tr>
        <td>
          14
        </td>
        <td>
          910
        </td>
        <td>
          688
          -
          688
        </td>
        <td>
          DefDef
        </td>
        <td>
          startupWithRoleForTest$default$4
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          
        </td>
      </tr><tr>
        <td>
          14
        </td>
        <td>
          909
        </td>
        <td>
          661
          -
          687
        </td>
        <td>
          DefDef
        </td>
        <td>
          startupWithRoleForTest
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          def startupWithRoleForTest
        </td>
      </tr><tr>
        <td>
          16
        </td>
        <td>
          905
        </td>
        <td>
          827
          -
          1067
        </td>
        <td>
          Apply
        </td>
        <td>
          parseString
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          ConfigFactory
      .parseString(
        s&quot;&quot;&quot;
        akka.remote.artery.canonical.hostname=$ip
        akka.remote.artery.canonical.port=$port
        akka.cluster.roles = [$role]
        akka.cluster.seed-nodes = [
        ]
        &quot;&quot;&quot;)
        </td>
      </tr><tr>
        <td>
          17
        </td>
        <td>
          904
        </td>
        <td>
          869
          -
          1066
        </td>
        <td>
          Apply
        </td>
        <td>
          s
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          s&quot;&quot;&quot;
        akka.remote.artery.canonical.hostname=$ip
        akka.remote.artery.canonical.port=$port
        akka.cluster.roles = [$role]
        akka.cluster.seed-nodes = [
        ]
        &quot;&quot;&quot;
        </td>
      </tr><tr>
        <td>
          24
        </td>
        <td>
          907
        </td>
        <td>
          827
          -
          1127
        </td>
        <td>
          Apply
        </td>
        <td>
          withFallback
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          ConfigFactory
      .parseString(
        s&quot;&quot;&quot;
        akka.remote.artery.canonical.hostname=$ip
        akka.remote.artery.canonical.port=$port
        akka.cluster.roles = [$role]
        akka.cluster.seed-nodes = [
        ]
        &quot;&quot;&quot;)
      .withFallback(ConfigFactory.load(&quot;application-test&quot;))
        </td>
      </tr><tr>
        <td>
          24
        </td>
        <td>
          906
        </td>
        <td>
          1088
          -
          1126
        </td>
        <td>
          Apply
        </td>
        <td>
          load
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          ConfigFactory.load(&quot;application-test&quot;)
        </td>
      </tr><tr>
        <td>
          26
        </td>
        <td>
          908
        </td>
        <td>
          1163
          -
          1201
        </td>
        <td>
          Apply
        </td>
        <td>
          apply
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          ActorSystem(root, clusterName, config)
        </td>
      </tr><tr>
        <td>
          29
        </td>
        <td>
          917
        </td>
        <td>
          1411
          -
          1411
        </td>
        <td>
          DefDef
        </td>
        <td>
          startupWithRole$default$4
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          
        </td>
      </tr><tr>
        <td>
          29
        </td>
        <td>
          916
        </td>
        <td>
          1391
          -
          1410
        </td>
        <td>
          DefDef
        </td>
        <td>
          startupWithRole
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          def startupWithRole
        </td>
      </tr><tr>
        <td>
          31
        </td>
        <td>
          912
        </td>
        <td>
          1550
          -
          1885
        </td>
        <td>
          Apply
        </td>
        <td>
          parseString
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ConfigFactory
      .parseString(
        s&quot;&quot;&quot;
        akka.remote.artery.canonical.hostname=$ip
        akka.remote.artery.canonical.port=$port
        akka.cluster.roles = [$role]
        akka.cluster.seed-nodes = [
          &quot;akka://$clusterName@127.0.0.1:2551&quot;,
          &quot;akka://$clusterName@127.0.0.1:2552&quot;
        ]
        &quot;&quot;&quot;)
        </td>
      </tr><tr>
        <td>
          32
        </td>
        <td>
          911
        </td>
        <td>
          1592
          -
          1884
        </td>
        <td>
          Apply
        </td>
        <td>
          s
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          s&quot;&quot;&quot;
        akka.remote.artery.canonical.hostname=$ip
        akka.remote.artery.canonical.port=$port
        akka.cluster.roles = [$role]
        akka.cluster.seed-nodes = [
          &quot;akka://$clusterName@127.0.0.1:2551&quot;,
          &quot;akka://$clusterName@127.0.0.1:2552&quot;
        ]
        &quot;&quot;&quot;
        </td>
      </tr><tr>
        <td>
          41
        </td>
        <td>
          914
        </td>
        <td>
          1550
          -
          1941
        </td>
        <td>
          Apply
        </td>
        <td>
          withFallback
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ConfigFactory
      .parseString(
        s&quot;&quot;&quot;
        akka.remote.artery.canonical.hostname=$ip
        akka.remote.artery.canonical.port=$port
        akka.cluster.roles = [$role]
        akka.cluster.seed-nodes = [
          &quot;akka://$clusterName@127.0.0.1:2551&quot;,
          &quot;akka://$clusterName@127.0.0.1:2552&quot;
        ]
        &quot;&quot;&quot;)
      .withFallback(ConfigFactory.load(&quot;base-cluster&quot;))
        </td>
      </tr><tr>
        <td>
          41
        </td>
        <td>
          913
        </td>
        <td>
          1906
          -
          1940
        </td>
        <td>
          Apply
        </td>
        <td>
          load
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ConfigFactory.load(&quot;base-cluster&quot;)
        </td>
      </tr><tr>
        <td>
          44
        </td>
        <td>
          915
        </td>
        <td>
          1976
          -
          2014
        </td>
        <td>
          Apply
        </td>
        <td>
          apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ActorSystem(root, clusterName, config)
        </td>
      </tr><tr>
        <td>
          46
        </td>
        <td>
          928
        </td>
        <td>
          2018
          -
          2032
        </td>
        <td>
          DefDef
        </td>
        <td>
          main
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          @main def main
        </td>
      </tr><tr>
        <td>
          48
        </td>
        <td>
          919
        </td>
        <td>
          2071
          -
          2123
        </td>
        <td>
          Apply
        </td>
        <td>
          &lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          new BufferedReader(new InputStreamReader(System.in))
        </td>
      </tr><tr>
        <td>
          48
        </td>
        <td>
          918
        </td>
        <td>
          2090
          -
          2122
        </td>
        <td>
          Apply
        </td>
        <td>
          &lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          new InputStreamReader(System.in)
        </td>
      </tr><tr>
        <td>
          49
        </td>
        <td>
          920
        </td>
        <td>
          2129
          -
          2163
        </td>
        <td>
          Apply
        </td>
        <td>
          print
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          System.out.print(&quot;Inserisci l'ip&quot;)
        </td>
      </tr><tr>
        <td>
          50
        </td>
        <td>
          921
        </td>
        <td>
          2192
          -
          2209
        </td>
        <td>
          Apply
        </td>
        <td>
          readLine
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          reader.readLine()
        </td>
      </tr><tr>
        <td>
          52
        </td>
        <td>
          922
        </td>
        <td>
          2235
          -
          2252
        </td>
        <td>
          Apply
        </td>
        <td>
          readLine
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          reader.readLine()
        </td>
      </tr><tr>
        <td>
          54
        </td>
        <td>
          923
        </td>
        <td>
          2276
          -
          2291
        </td>
        <td>
          Apply
        </td>
        <td>
          +
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          ipAddress + &quot;:&quot;
        </td>
      </tr><tr>
        <td>
          54
        </td>
        <td>
          925
        </td>
        <td>
          2259
          -
          2299
        </td>
        <td>
          Apply
        </td>
        <td>
          print
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          System.out.print(ipAddress + &quot;:&quot; + port)
        </td>
      </tr><tr>
        <td>
          54
        </td>
        <td>
          924
        </td>
        <td>
          2276
          -
          2298
        </td>
        <td>
          Apply
        </td>
        <td>
          +
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          ipAddress + &quot;:&quot; + port
        </td>
      </tr><tr>
        <td>
          55
        </td>
        <td>
          926
        </td>
        <td>
          2317
          -
          2332
        </td>
        <td>
          Select
        </td>
        <td>
          startupWithRole$default$4
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          startupWithRole
        </td>
      </tr><tr>
        <td>
          55
        </td>
        <td>
          927
        </td>
        <td>
          2317
          -
          2378
        </td>
        <td>
          Apply
        </td>
        <td>
          startupWithRole
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          startupWithRole(&quot;sender&quot;, port, ipAddress)(ForemanBehavior())
        </td>
      </tr>
    </table>
          </div>
        </div>
      </body>
    </html>